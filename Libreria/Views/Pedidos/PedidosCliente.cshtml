@model IEnumerable<Libreria.Models.Pedido>

@{
    Layout = null;
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<link href="~/css/bootstrap-icons.css" rel="stylesheet">
@Html.Partial("_navbar")
<!-- Agregar enlaces a Bootstrap y Font Awesome -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />

<style>
    /* Personalización del diseño */
    body {
        font-family: Arial, sans-serif; /* Cambia la fuente según tu diseño preferido */
        background-color: #f8f9fa; /* Color de fondo suave */
    }

    h2 {
        color: #343a40; /* Color del título */
        margin-bottom: 20px; /* Espacio debajo del título */
    }

    .table {
        background-color: white; /* Color de fondo de la tabla */
        border-radius: 0.5rem; /* Bordes redondeados para la tabla */
        width: 100%; /* Establecer el ancho de la tabla a 100% */
    }

    /* Cambiar el fondo del encabezado a blanco y texto negro en negrita */
    .thead-custom th {
        background-color: white; /* Fondo blanco para el encabezado */
        color: #000; /* Color de texto negro */
        font-weight: bold; /* Texto en negrita */
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #f2f2f2; /* Color alternativo para filas impares */
    }

    /* Estilos para pantallas pequeñas */
    @@media (max-width: 576px) {
        .table thead {
            display: none; /* Ocultar el encabezado en pantallas pequeñas */
        }

        .table tbody tr {
            display: block; /* Mostrar las filas como bloques */
            margin-bottom: 10px;
        }

        .table tbody td {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        .table tbody td::before {
            content: attr(data-label); /* Mostrar las etiquetas de las celdas */
            font-weight: bold;
        }
    }
</style>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

<div class="container-fluid mt-1">
    <h2 class="text-center">Mis Pedidos</h2>

   

    <div class="table-responsive">
        <table id="pedidosTable" class="table table-striped table-bordered">
            <thead class="thead-custom">
                <tr>
                    <th>Pedido-ID</th>
                    <th>Fecha</th>        
                    <th>Provincia</th>
                    <th>Municipio</th>
                    <th>Calle</th>
                   @*  <th>Total</th> *@
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var pedido in Model)
                {
                    <tr data-estado="@pedido.Estado">
                        <td data-label="Pedido ID">@pedido.PedidoID</td>
                        <td data-label="Fecha de Pedido">@pedido.FechaPedido.ToString("dd/MM/yyyy")</td>
         
                        <td data-label="Provincia">@pedido.Provincia</td>
                        <td data-label="Municipio">@pedido.Municipio</td>
                        <td data-label="Calle">@pedido.Calle</td>
                   @*      <td data-label="Total">@pedido.Total.ToString("C")</td> *@
                        <td data-label="Estado" class="estado">
                            <strong>@pedido.Estado</strong>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#pedidosTable').DataTable();
        });

        function filtrarPorEstado(estado) {
            console.log("Filtrando por estado:", estado);
            var filas = document.querySelectorAll('tbody tr');

            filas.forEach(function (fila) {
                var estadoFila = fila.getAttribute('data-estado');
                console.log("Estado de la fila:", estadoFila);

                if (estado === 'Todos' || estadoFila === estado) {
                    fila.style.display = ''; // Mostrar la fila
                } else {
                    fila.style.display = 'none'; // Ocultar la fila
                }
            });
        }
    </script>
}

<br />
<br />

<!-- Footer con íconos de redes y contacto -->
<footer style="background-color: #002B70;" class="text-white text-center py-4">
    <div class="container">
        <p>&copy; 2024 Librería El Maestro. Todos los derechos reservados.</p>

        <p>
            <i class="bi bi-telephone-fill"></i>
            <a href="tel:+18096817079" class="text-white text-decoration-none"> 809-681-7079</a>
        </p>

        <p>
            <i class="bi bi-envelope-fill"></i>
            <a href="mailto:libmaestro@hotmail.com" class="text-white text-decoration-none"> libmaestro@hotmail.com</a>
        </p>

        <p>
            <i class="bi bi-geo-alt-fill"></i>
            Dirección: C/Padre Castellanos No. 91, Ensanche Espaillat, Santo Domingo, República Dominicana.
        </p>

        <hr class="border border-light my-4">

        <p>Síguenos en nuestras redes sociales:</p>
        <div>
            <a href="https://facebook.com" class="text-white me-3">
                <i class="bi bi-facebook" style="font-size: 2rem;"></i>
            </a>
            <a href="https://instagram.com" class="text-white">
                <i class="bi bi-instagram" style="font-size: 2rem;"></i>
            </a>
        </div>
    </div>
</footer>